# SPDX-License-Identifier: AGPL-3.0-only

type: Statement
name: break
spec:
  syntax: "BREAK;"
  summary: "Terminates and exits the current loop."
  variants:
    - name: Default
      summary: "Breaks out of the current loop."
      syntax: "BREAK;"
      examples:
        - setup:
            - "LET $numbers = [1,2,3,4,5,6,7,8,9];"
          query: |
            FOR $num IN $numbers {
                IF $num > 5 {
                    BREAK;
                };
                // The loop continues as long as the condition is false.
                // We don't need a complex operation here to demonstrate BREAK.
            };

        - setup:
            - |
              LET $weather = [
                  { city: 'London', temperature: 22.2, timestamp: 1722565566389 },
                  NONE,
                  { city: 'London', temperature: 20.1, timestamp: 1722652002699 },
                  { city: 'Phoenix', temperature: 45.1, timestamp: 1722565642160 },
                  NONE,
                  NONE,
                  { city: 'Phoenix', temperature: 45.1, timestamp: 1722652070372 },
              ];
          query: |
            FOR $data IN array::sort::desc($weather) {
                IF $data IS NONE {
                    BREAK;
                } ELSE {
                    CREATE weather CONTENT $data;
                };
            };
